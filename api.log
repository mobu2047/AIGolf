nohup: ignoring input
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.0.3:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 233-305-186
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
W0000 00:00:1752048052.290182  352211 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048052.313982  352211 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048052.332300  352208 landmark_projection_calculator.cc:186] Using NORM_RECT without IMAGE_DIMENSIONS is only supported for the square ROI. Provide IMAGE_DIMENSIONS or use PROJECTION_MATRIX.
W0000 00:00:1752048054.666685  352255 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048054.688112  352255 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:00:59] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:01:00] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752048386.127764  352602 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048386.149673  352602 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
[INFO] 加载标准模型: ./model/standard_model.pt
[INFO] 加载错误检测模型: ./model/error_model.pt
[INFO] 正在加载错误检测模型: ./model/error_model.pt
[INFO] 模型配置参数:
[INFO] - 模型类型: enhanced
[INFO] - 输入维度: 310
[INFO] - 隐藏层维度: 64
[INFO] - 错误类别数量: 90
[INFO] - 序列长度: 5
[INFO] - 使用动态特征: True
[INFO] - 使用3D特征: True
[INFO] 创建增强版错误检测模型 (EnhancedErrorDetectionModel)
[INFO] 模型加载成功, 类型: EnhancedErrorDetectionModel
[INFO] LSTM实际输入维度: 310
[INFO] 模型加载成功，类型: enhanced，错误类别数量: 90
[INFO] 模型LSTM输入维度: 310
[INFO] 服务器启动于 http://0.0.0.0:5000
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/stage_indices.json
[INFO] CSV => ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/stand
[INFO] 已创建高度线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/k
[INFO] 已创建躯干线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/body
[INFO] 已创建骨架线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/caba9b96-4b78-457f-87ae-3191c5eca416/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.89秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.28秒
  平均耗时: 1.28秒
  最短耗时: 1.28秒
  最长耗时: 1.28秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.01秒
  平均耗时: 2.01秒
  最短耗时: 2.01秒
  最长耗时: 2.01秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.59秒
  平均耗时: 7.59秒
  最短耗时: 7.59秒
  最长耗时: 7.59秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis/caba9b96-4b78-457f-87ae-3191c5eca416_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/caba9b96-4b78-457f-87ae-3191c5eca416/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original_h264.mp4
W0000 00:00:1752048388.512320  352658 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048388.534424  352658 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:06:33] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:06:33] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752048690.683641  352865 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048690.709092  352866 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048693.057917  352919 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752048693.079415  352919 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/stage_indices.json
[INFO] CSV => ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/stand
[INFO] 已创建高度线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/k
[INFO] 已创建躯干线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/body
[INFO] 已创建骨架线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.80秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.28秒
  平均耗时: 1.28秒
  最短耗时: 1.28秒
  最长耗时: 1.28秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 1.91秒
  平均耗时: 1.91秒
  最短耗时: 1.91秒
  最长耗时: 1.91秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.60秒
  平均耗时: 7.60秒
  最短耗时: 7.60秒
  最长耗时: 7.60秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis/c845556c-00b5-4610-b4a9-98ef7e939dd3_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/c845556c-00b5-4610-b4a9-98ef7e939dd3/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/keypoints.pt
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:11:38] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:11:38] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752051475.403270  384152 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051475.424819  384152 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051477.766021  384226 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051477.786143  384226 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 保存阶段索引到: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/stage_indices.json
[INFO] CSV => ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.88秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.00秒
  平均耗时: 2.00秒
  最短耗时: 2.00秒
  最长耗时: 2.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.58秒
  平均耗时: 7.58秒
  最短耗时: 7.58秒
  最长耗时: 7.58秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b3e815e1-1caa-4ed8-a9e1-2f5c742bc147/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/stage_indices.json
[INFO] CSV => ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/stand
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:58:03] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 16:58:03] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752051653.835301  384913 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051653.859436  384915 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051656.214704  384971 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752051656.237132  384971 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置肩膀旋转角度参考宽度: 18.0像素
[INFO] 生成肩膀旋转角度线帧 1/63[INFO] 确定旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成height辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[DEBUG] 面部高度: 33.0, 偏移量: 75.9
[DEBUG] 最高点y值: 479, 计算的头顶位置y值: 403
[DEBUG] 最终头顶线位置: Y=403, X=473
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 完成height辅助线透明图片生成 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k, 共 63 帧
[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置髋部旋转角度参考宽度: 3.0像素
[INFO] 生成髋部旋转角度线帧 1/63[INFO] 确定旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 完成hip_rotation辅助线透明图片生成 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation, 共 63 帧
[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成body辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[DEBUG] body assistant: left_shoulder=(np.int32(447), np.int32(536)), right_shoulder=(np.int32(429), np.int32(455)), left_ankle=(np.int32(147), np.int32(565)), right_ankle=(np.int32(146), np.int32(423))
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成stance辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 完成stance辅助线透明图片生成 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand, 共 63 帧
[INFO] 性能统计: 总耗时 1.78秒, 处理耗时 0.09秒, 保存耗时 1.69秒
[INFO] 每帧平均: 处理 1.35毫秒, 保存 26.89毫秒
[INFO] 已生成stance辅助线: 63帧[INFO] 已创建高度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fddc00c5-2da4-4ad9-92c8-ea8ae3fe728a/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] CSV => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/stand
[INFO] 已创建高度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/k
[INFO] 已创建躯干线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/body
[INFO] 已创建骨架线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.87秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:01:01] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:01:01] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752052503.760191  386141 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752052503.779325  386145 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752052506.071522  386196 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752052506.093887  386199 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:15:11] "POST /process_video HTTP/1.1" 200 -
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.00秒
  平均耗时: 2.00秒
  最短耗时: 2.00秒
  最长耗时: 2.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.42秒
  平均耗时: 7.42秒
  最短耗时: 7.42秒
  最长耗时: 7.42秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis/8deda29c-8aab-44d0-a0dc-0e9b43919495_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/8deda29c-8aab-44d0-a0dc-0e9b43919495/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/stage_indices.json
[INFO] CSV => ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/stand
[INFO] 已创建高度线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/k
[INFO] 已创建躯干线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/body
[INFO] 已创建骨架线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.80秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.20秒
  平均耗时: 1.20秒
  最短耗时: 1.20秒
  最长耗时: 1.20秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 1.92秒
  平均耗时: 1.92秒
  最短耗时: 1.92秒
  最长耗时: 1.92秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.43秒
  平均耗时: 7.43秒
  最短耗时: 7.43秒
  最长耗时: 7.43秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:15:11] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752054233.707091  388086 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054233.729087  388086 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054236.087033  388146 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054236.105461  388144 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:44:01] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis/ac2982a4-3e97-4909-810a-fdd3db8c543d_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/ac2982a4-3e97-4909-810a-fdd3db8c543d/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/stage_indices.json
[INFO] CSV => ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/stand
[INFO] 已创建高度线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/k
[INFO] 已创建躯干线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/body
[INFO] 已创建骨架线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.92秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.03秒
  平均耗时: 2.03秒
  最短耗时: 2.03秒
  最长耗时: 2.03秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.67秒
  平均耗时: 7.67秒
  最短耗时: 7.67秒
  最长耗时: 7.67秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:44:01] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752054924.984667  389209 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054925.005914  389214 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054927.334739  389262 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752054927.355923  389262 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:55:32] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:55:33] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752055171.751409  389969 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752055171.772082  389969 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis/409c3d0b-5e1d-41a7-9cbe-3518a501627b_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/409c3d0b-5e1d-41a7-9cbe-3518a501627b/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/stage_indices.json
[INFO] CSV => ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/stand
[INFO] 已创建高度线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/k
[INFO] 已创建躯干线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/body
[INFO] 已创建骨架线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.98秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.24秒
  平均耗时: 1.24秒
  最短耗时: 1.24秒
  最长耗时: 1.24秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.10秒
  平均耗时: 2.10秒
  最短耗时: 2.10秒
  最长耗时: 2.10秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.78秒
  平均耗时: 7.78秒
  最短耗时: 7.78秒
  最长耗时: 7.78秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis/80624adb-c9e9-4f94-beab-5f5d8492b2ed_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/80624adb-c9e9-4f94-beab-5f5d8492b2ed/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
W0000 00:00:1752055174.098562  390020 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752055174.121556  390020 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:59:39] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 17:59:39] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752055907.716409  391059 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752055907.736081  391059 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752055910.091934  391111 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752055910.113539  391111 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 正在保存视频帧到 ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/stage_indices.json
[INFO] CSV => ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/stand
[INFO] 已创建高度线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/k
[INFO] 已创建躯干线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/body
[INFO] 已创建骨架线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.94秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.25秒
  平均耗时: 1.25秒
  最短耗时: 1.25秒
  最长耗时: 1.25秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.06秒
  平均耗时: 2.06秒
  最短耗时: 2.06秒
  最长耗时: 2.06秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.49秒
  平均耗时: 7.49秒
  最短耗时: 7.49秒
  最长耗时: 7.49秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis/2fb7e535-1934-403e-8506-8bbaf23af84e_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2fb7e535-1934-403e-8506-8bbaf23af84e/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:11:55] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:11:55] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752056443.915088  392118 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056443.937391  392118 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056446.280909  392173 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056446.301927  392173 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/stage_indices.json
[INFO] CSV => ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/stand
[INFO] 已创建高度线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/k
[INFO] 已创建躯干线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/body
[INFO] 已创建骨架线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.86秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 1.98秒
  平均耗时: 1.98秒
  最短耗时: 1.98秒
  最长耗时: 1.98秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.62秒
  平均耗时: 7.62秒
  最短耗时: 7.62秒
  最长耗时: 7.62秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis/6fdb0ace-88f3-42d7-8a23-89e80757476b_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/6fdb0ace-88f3-42d7-8a23-89e80757476b/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] CSV => ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:20:51] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:20:51] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752056774.441177  393184 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056774.464006  393184 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056776.758370  393240 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752056776.785544  393240 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成body辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成height辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[DEBUG] 面部高度: 33.0, 偏移量: 75.9
[DEBUG] 最高点y值: 479, 计算的头顶位置y值: 403
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置肩膀旋转角度参考宽度: 18.0像素
[INFO] 生成肩膀旋转角度线帧 1/63[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置髋部旋转角度参考宽度: 3.0像素
[INFO] 生成髋部旋转角度线帧 1/63[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成fishbone辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 生成鱼骨线帧 1/63
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成stance辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成skeleton辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 生成骨架线帧 1/63
[INFO] 已加载阶段索引数据: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/stand
[INFO] 已创建高度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/k
[INFO] 已创建躯干线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/body
[INFO] 已创建骨架线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.53秒
  平均耗时: 7.53秒
  最短耗时: 7.53秒
  最长耗时: 7.53秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis/48b87c94-77d7-48f1-ac56-02a6f6b9ed66_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/48b87c94-77d7-48f1-ac56-02a6f6b9ed66/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] CSV => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/stand
[INFO] 已创建高度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/k
[INFO] 已创建躯干线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/body
[INFO] 已创建骨架线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.01秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.21秒
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:26:22] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:26:22] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752057450.528534  394337 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752057450.554916  394343 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752057452.888511  394398 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752057452.908295  394398 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:37:38] "POST /process_video HTTP/1.1" 200 -
  平均耗时: 1.21秒
  最短耗时: 1.21秒
  最长耗时: 1.21秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.13秒
  平均耗时: 2.13秒
  最短耗时: 2.13秒
  最长耗时: 2.13秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.54秒
  平均耗时: 7.54秒
  最短耗时: 7.54秒
  最长耗时: 7.54秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis/bda1bbba-2030-4056-90e3-afbf36e51eff_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/bda1bbba-2030-4056-90e3-afbf36e51eff/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/stage_indices.json
[INFO] CSV => ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/stand
[INFO] 已创建高度线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/k
[INFO] 已创建躯干线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/body
[INFO] 已创建骨架线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.98秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.09秒
  平均耗时: 2.09秒
  最短耗时: 2.09秒
  最长耗时: 2.09秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.72秒
  平均耗时: 7.72秒
  最短耗时: 7.72秒
  最长耗时: 7.72秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:37:38] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752058149.484892  395331 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058149.507644  395331 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058151.831336  395384 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058151.849540  395387 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:49:17] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis/4a60a9f9-46a7-4f2b-9bfa-a897c712875f_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/4a60a9f9-46a7-4f2b-9bfa-a897c712875f/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/stage_indices.json
[INFO] CSV => ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/stand
[INFO] 已创建高度线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/k
[INFO] 已创建躯干线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/body
[INFO] 已创建骨架线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.03秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.24秒
  平均耗时: 1.24秒
  最短耗时: 1.24秒
  最长耗时: 1.24秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.15秒
  平均耗时: 2.15秒
  最短耗时: 2.15秒
  最长耗时: 2.15秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.51秒
  平均耗时: 7.51秒
  最短耗时: 7.51秒
  最长耗时: 7.51秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:49:17] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752058630.306220  396246 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058630.328751  396249 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058632.661000  396299 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058632.683559  396299 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:57:17] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis/3264f52b-d378-42fa-ad7a-c627d74828ea_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/3264f52b-d378-42fa-ad7a-c627d74828ea/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/stage_indices.json
[INFO] CSV => ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/stand
[INFO] 已创建高度线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/k
[INFO] 已创建躯干线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/body
[INFO] 已创建骨架线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/04f74799-9cfa-4e56-beca-b61af740af31/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.96秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.08秒
  平均耗时: 2.08秒
  最短耗时: 2.08秒
  最长耗时: 2.08秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.63秒
  平均耗时: 7.63秒
  最短耗时: 7.63秒
  最长耗时: 7.63秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:57:18] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752058780.698952  396968 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058780.727036  396971 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058783.043563  397022 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058783.066790  397022 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:59:48] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 18:59:48] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752058896.433800  397701 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058896.453077  397701 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis/04f74799-9cfa-4e56-beca-b61af740af31_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/04f74799-9cfa-4e56-beca-b61af740af31/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/stage_indices.json
[INFO] CSV => ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/stand
[INFO] 已创建高度线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/k
[INFO] 已创建躯干线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/body
[INFO] 已创建骨架线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.91秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.25秒
  平均耗时: 1.25秒
  最短耗时: 1.25秒
  最长耗时: 1.25秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.03秒
  平均耗时: 2.03秒
  最短耗时: 2.03秒
  最长耗时: 2.03秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.65秒
  平均耗时: 7.65秒
  最短耗时: 7.65秒
  最长耗时: 7.65秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis/5aaf6cf9-8632-4a15-90e5-76233c6694f4_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/5aaf6cf9-8632-4a15-90e5-76233c6694f4/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
W0000 00:00:1752058898.788021  397754 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752058898.813451  397754 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:01:44] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:01:44] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752059004.108170  398474 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059004.134730  398473 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059006.429975  398531 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059006.448867  398531 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[WARN] H264转换可能不成功，使用原始文件: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/stage_indices.json
[INFO] CSV => ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/stand
[INFO] 已创建高度线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/k
[INFO] 已创建躯干线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/body
[INFO] 已创建骨架线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.95秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.25秒
  平均耗时: 1.25秒
  最短耗时: 1.25秒
  最长耗时: 1.25秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.07秒
  平均耗时: 2.07秒
  最短耗时: 2.07秒
  最长耗时: 2.07秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.64秒
  平均耗时: 7.64秒
  最短耗时: 7.64秒
  最长耗时: 7.64秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis/96ee2aaa-9018-4c33-bdd2-823d8c3a1381_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/96ee2aaa-9018-4c33-bdd2-823d8c3a1381/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/stage_indices.json
[INFO] CSV => ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:03:31] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:03:31] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752059488.509247  399261 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059488.527966  399261 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059490.891796  399314 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752059490.919950  399314 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.97秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.21秒
  平均耗时: 1.21秒
  最短耗时: 1.21秒
  最长耗时: 1.21秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.09秒
  平均耗时: 2.09秒
  最短耗时: 2.09秒
  最长耗时: 2.09秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.63秒
  平均耗时: 7.63秒
  最短耗时: 7.63秒
  最长耗时: 7.63秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis/b7f1acbb-973c-453b-b1a0-573c33bf8274_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b7f1acbb-973c-453b-b1a0-573c33bf8274/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/stage_indices.json
[INFO] CSV => ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/stand
[INFO] 已创建高度线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/k
[INFO] 已创建躯干线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/body
[INFO] 已创建骨架线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/shoulder_rotation
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:11:36] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [09/Jul/2025 19:11:36] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752115971.974123  422204 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752115971.999709  422204 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752115974.367750  422258 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752115974.391298  422258 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.75秒
  平均耗时: 7.75秒
  最短耗时: 7.75秒
  最长耗时: 7.75秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis/5bea58d5-5972-43f7-8515-dc5d26cc6afe_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/5bea58d5-5972-43f7-8515-dc5d26cc6afe/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/stage_indices.json
[INFO] CSV => ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/stand
[INFO] 已创建高度线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/k
[INFO] 已创建躯干线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/body
[INFO] 已创建骨架线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/e3a3017b-4b09-4da2-9f39-963b02042223/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.03秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.28秒
  平均耗时: 1.28秒
  最短耗时: 1.28秒
  最长耗时: 1.28秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.15秒
  平均耗时: 2.15秒
  最短耗时: 2.15秒
  最长耗时: 2.15秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.54秒
  平均耗时: 7.54秒
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 10:52:59] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 10:52:59] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752116164.625957  422810 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752116164.645923  422816 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752116167.001082  422861 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752116167.029004  422861 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 10:56:12] "POST /process_video HTTP/1.1" 200 -
  最短耗时: 7.54秒
  最长耗时: 7.54秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis/e3a3017b-4b09-4da2-9f39-963b02042223_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/e3a3017b-4b09-4da2-9f39-963b02042223/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/stage_indices.json
[INFO] CSV => ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/stand
[INFO] 已创建高度线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/k
[INFO] 已创建躯干线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/body
[INFO] 已创建骨架线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.95秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.27秒
  平均耗时: 1.27秒
  最短耗时: 1.27秒
  最长耗时: 1.27秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.17秒
  平均耗时: 0.17秒
  最短耗时: 0.17秒
  最长耗时: 0.17秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.07秒
  平均耗时: 2.07秒
  最短耗时: 2.07秒
  最长耗时: 2.07秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.48秒
  平均耗时: 7.48秒
  最短耗时: 7.48秒
  最长耗时: 7.48秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 10:56:12] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752117291.640486  424287 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752117291.659567  424287 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752117293.958992  424344 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752117293.980979  424344 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 11:14:59] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis/4f169c8c-aeb1-4730-9eca-f8cdf593de43_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/4f169c8c-aeb1-4730-9eca-f8cdf593de43/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/stage_indices.json
[INFO] CSV => ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/stand
[INFO] 已创建高度线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/k
[INFO] 已创建躯干线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/body
[INFO] 已创建骨架线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.92秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.21秒
  平均耗时: 1.21秒
  最短耗时: 1.21秒
  最长耗时: 1.21秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.03秒
  平均耗时: 2.03秒
  最短耗时: 2.03秒
  最长耗时: 2.03秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.61秒
  平均耗时: 7.61秒
  最短耗时: 7.61秒
  最长耗时: 7.61秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 11:14:59] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752132581.323730  474952 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752132581.342814  474953 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752132583.713001  475007 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752132583.735541  475017 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 15:29:49] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 15:29:49] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752133012.803801  476129 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752133012.835150  476138 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis/fdccd842-6b58-4eb0-89c6-99096e113cf5_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/fdccd842-6b58-4eb0-89c6-99096e113cf5/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/stage_indices.json
[INFO] CSV => ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/stand
[INFO] 已创建高度线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/k
[INFO] 已创建躯干线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/body
[INFO] 已创建骨架线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.06秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.26秒
  平均耗时: 1.26秒
  最短耗时: 1.26秒
  最长耗时: 1.26秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.21秒
  平均耗时: 2.21秒
  最短耗时: 2.21秒
  最长耗时: 2.21秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.03秒
  平均耗时: 8.03秒
  最短耗时: 8.03秒
  最长耗时: 8.03秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis/7aa036c2-2041-4e26-a703-2edb6dc98965_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7aa036c2-2041-4e26-a703-2edb6dc98965/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original_h264.mp4
[INFO] 使用OpenCV创建临时AVI文件: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original_h264.mp4.temp.mp4.avi
[INFO] 开始处理 63 帧图像
[INFO] 已处理 1/63 帧
[INFO] 已处理 63/63 帧
[INFO] 临时AVI文件创建完成，共写入 63 帧
W0000 00:00:1752133015.269717  476185 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752133015.290077  476185 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 15:37:00] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 15:37:01] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144171.324342  514400 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144171.346853  514399 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144174.294785  514599 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144174.313481  514599 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] ffmpeg不可用，使用AVI文件
[INFO] 视频合成完成: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original_h264.mp4
[ERR] 系统中未找到ffmpeg，无法转换为H264
[WARN] H264转换可能不成功，使用原始文件: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/stage_indices.json
[INFO] CSV => ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5462
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5684
[INFO] 帧 59: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6902
[INFO] 错误检测完成，共检测到 3 个有效错误，总检测帧数 3 => ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/stand
[INFO] 已创建高度线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/k
[INFO] 已创建躯干线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/body
[INFO] 已创建骨架线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.03秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.34秒
  平均耗时: 1.34秒
  最短耗时: 1.34秒
  最长耗时: 1.34秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.18秒
  平均耗时: 2.18秒
  最短耗时: 2.18秒
  最长耗时: 2.18秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.06秒
  平均耗时: 8.06秒
  最短耗时: 8.06秒
  最长耗时: 8.06秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06848849356174469
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_0/setup_position_fails.jpg
文件大小: 314142 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 366218 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368690 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368828 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368786 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348373 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350010 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_38/f0038_0_line_0.jpg
文件大小: 354430 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361860 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369482 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365946 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372039 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371817 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_47/f0047_2_line_1.jpg
文件大小: 358847 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/frame_62/f0062_0_line_0.jpg
文件大小: 380412 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis/6600311d-7f7e-4c85-9175-d24cecfb0196_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/6600311d-7f7e-4c85-9175-d24cecfb0196/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4 -> ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original_h264.mp4 -c:v h264 ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:42:59] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:42:59] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144251.137824  514712 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144251.167137  514715 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144254.202270  514904 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144254.226319  514907 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/stage_indices.json
[INFO] CSV => ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.96秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.25秒
  平均耗时: 1.25秒
  最短耗时: 1.25秒
  最长耗时: 1.25秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.10秒
  平均耗时: 2.10秒
  最短耗时: 2.10秒
  最长耗时: 2.10秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.33秒
  平均耗时: 8.33秒
  最短耗时: 8.33秒
  最长耗时: 8.33秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis/f24c8266-f253-4ecb-b495-194d3cc77a1d_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f24c8266-f253-4ecb-b495-194d3cc77a1d/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4 -> ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original_h264.mp4 -c:v h264 ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/stage_indices.json
[INFO] CSV => ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:44:19] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:44:19] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144452.737131  515036 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144452.761148  515033 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144455.756988  515232 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144455.781294  515232 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 已加载阶段索引数据: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/stand
[INFO] 已创建高度线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/k
[INFO] 已创建躯干线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/body
[INFO] 已创建骨架线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.97秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.31秒
  平均耗时: 1.31秒
  最短耗时: 1.31秒
  最长耗时: 1.31秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.11秒
  平均耗时: 2.11秒
  最短耗时: 2.11秒
  最长耗时: 2.11秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.38秒
  平均耗时: 8.38秒
  最短耗时: 8.38秒
  最长耗时: 8.38秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/9376dd59-4a4b-4bfc-87d8-703b6f2f1d00/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4 -> ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original_h264.mp4 -c:v h264 ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/stage_indices.json
[INFO] CSV => ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/stand
[INFO] 已创建高度线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/k
[INFO] 已创建躯干线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/body
[INFO] 已创建骨架线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/img/hip_rotation
[INFO] 视频尺寸: 720x1280
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:47:41] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:47:41] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144642.367469  515388 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144642.386907  515388 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144647.542979  515612 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144647.562937  515612 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 1.98秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.24秒
  平均耗时: 1.24秒
  最短耗时: 1.24秒
  最长耗时: 1.24秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.22秒
  平均耗时: 0.22秒
  最短耗时: 0.22秒
  最长耗时: 0.22秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.12秒
  平均耗时: 2.12秒
  最短耗时: 2.12秒
  最长耗时: 2.12秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.52秒
  平均耗时: 8.52秒
  最短耗时: 8.52秒
  最长耗时: 8.52秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis/e4c49e40-3078-4a14-bb33-cd02aa312496_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/e4c49e40-3078-4a14-bb33-cd02aa312496/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4 -> ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original_h264.mp4 -c:v h264 ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/stage_indices.json
[INFO] CSV => ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/stand
[INFO] 已创建高度线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/k
[INFO] 已创建躯干线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/body
[INFO] 已创建骨架线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 4.62秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.49秒
  平均耗时: 1.49秒
  最短耗时: 1.49秒
  最长耗时: 1.49秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 4.78秒
  平均耗时: 4.78秒
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:50:56] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:50:56] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144673.952087  515699 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144673.972198  515699 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144681.398958  515896 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144681.423368  515898 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
INFO:golf_club_detector:总帧数: 128
INFO:golf_club_detector:处理进度: 10/128 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/128 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/128 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 40/128 帧，检测到球杆: 32 次
INFO:golf_club_detector:处理进度: 50/128 帧，检测到球杆: 41 次
INFO:golf_club_detector:处理进度: 60/128 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/128 帧，检测到球杆: 51 次
INFO:golf_club_detector:处理进度: 80/128 帧，检测到球杆: 61 次
INFO:golf_club_detector:处理进度: 90/128 帧，检测到球杆: 71 次
INFO:golf_club_detector:处理进度: 100/128 帧，检测到球杆: 81 次
INFO:golf_club_detector:处理进度: 110/128 帧，检测到球杆: 91 次
INFO:golf_club_detector:处理进度: 120/128 帧，检测到球杆: 101 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 128
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 85.2%
INFO:golf_club_detector:  输出形状: (128, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
  最短耗时: 4.78秒
  最长耗时: 4.78秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 13.98秒
  平均耗时: 13.98秒
  最短耗时: 13.98秒
  最长耗时: 13.98秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/7d7ca832-a82f-4fa5-aff8-2affc4c50693_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis
[INFO] 提取挥杆阶段: 第124帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 124
[INFO] 需要提取的视频帧数: 128
[INFO] 正在保存视频帧到 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all，帧范围：124-251，共 128 帧
[INFO] 开始从图片创建视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -> ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -c:v h264 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([128, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([128, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] CSV => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 128
[INFO] 帧 35: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5393
[INFO] 帧 51: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.7002
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5326
[INFO] 帧 60: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7871
[INFO] 帧 64: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5910
[INFO] 帧 65: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6752
[INFO] 帧 76: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5142
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6482
[INFO] 帧 78: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5742
[INFO] 帧 79: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5165
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5368
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5636
[INFO] 错误检测完成，共检测到 12 个有效错误，总检测帧数 12 => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 128
[INFO] 已加载阶段索引数据: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 128，最大帧号: 127
[INFO] 已创建站姿线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/stand
[INFO] 已创建高度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/k
[INFO] 已创建躯干线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/body
[INFO] 已创建骨架线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置肩膀旋转角度参考宽度: 144.0像素
[INFO] 生成肩膀旋转角度线帧 1/128[INFO] 确定旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到可能的朝向变化，当前角度: -86.0, 上一个角度: -87.2
[INFO] 朝向变化完成: 背面, 旋转次数: 1
[INFO] 检测到可能的朝向变化，当前角度: -89.6, 上一个角度: -89.9
[INFO] 生成肩膀旋转角度线帧 101/128  最短耗时: 4.78秒
  最长耗时: 4.78秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 13.98秒
  平均耗时: 13.98秒
  最短耗时: 13.98秒
  最长耗时: 13.98秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/7d7ca832-a82f-4fa5-aff8-2affc4c50693_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis
[INFO] 提取挥杆阶段: 第124帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 124
[INFO] 需要提取的视频帧数: 128
[INFO] 正在保存视频帧到 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all，帧范围：124-251，共 128 帧
[INFO] 开始从图片创建视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -> ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -c:v h264 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([128, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([128, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] CSV => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 128
[INFO] 帧 35: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5393
[INFO] 帧 51: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.7002
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5326
[INFO] 帧 60: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7871
[INFO] 帧 64: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5910
[INFO] 帧 65: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6752
[INFO] 帧 76: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5142
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6482
[INFO] 帧 78: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5742
[INFO] 帧 79: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5165
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5368
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5636
[INFO] 错误检测完成，共检测到 12 个有效错误，总检测帧数 12 => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 128
[INFO] 已加载阶段索引数据: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 128，最大帧号: 127
[INFO] 已创建站姿线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/stand
[INFO] 已创建高度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/k
[INFO] 已创建躯干线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/body
[INFO] 已创建骨架线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置髋部旋转角度参考宽度: 84.0像素
[INFO] 生成髋部旋转角度线帧 1/128[INFO] 确定旋转方向: 增加
[INFO] 检测到可能的朝向变化，当前角度: 89.3, 上一个角度: 89.9
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 朝向变化完成: 背面, 旋转次数: 1
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 生成髋部旋转角度线帧 101/128[INFO] 已生成 100/128 帧透明辅助线图片
[INFO] 完成hip_rotation辅助线透明图片生成 => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/hip_rotation, 共 128 帧
[INFO] 性能统计: 总耗时 2.73秒, 处理耗时 0.26秒, 保存耗时 2.47秒
  最短耗时: 4.78秒
  最长耗时: 4.78秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 13.98秒
  平均耗时: 13.98秒
  最短耗时: 13.98秒
  最长耗时: 13.98秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis/7d7ca832-a82f-4fa5-aff8-2affc4c50693_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7d7ca832-a82f-4fa5-aff8-2affc4c50693/vis
[INFO] 提取挥杆阶段: 第124帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 124
[INFO] 需要提取的视频帧数: 128
[INFO] 正在保存视频帧到 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all，帧范围：124-251，共 128 帧
[INFO] 开始从图片创建视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -> ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original_h264.mp4 -c:v h264 ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([128, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([128, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] CSV => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 128
[INFO] 帧 35: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5393
[INFO] 帧 51: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.7002
[INFO] 帧 58: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5326
[INFO] 帧 60: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7871
[INFO] 帧 64: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5910
[INFO] 帧 65: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6752
[INFO] 帧 76: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5142
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6482
[INFO] 帧 78: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5742
[INFO] 帧 79: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5165
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5368
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5636
[INFO] 错误检测完成，共检测到 12 个有效错误，总检测帧数 12 => ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 128
[INFO] 已加载阶段索引数据: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 128，最大帧号: 127
[INFO] 已创建站姿线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/stand
[INFO] 已创建高度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/k
[INFO] 已创建躯干线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/body
[INFO] 已创建骨架线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 4.10秒
[INFO] 辅助线透明图片生成完成: 128帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 5.23秒
  平均耗时: 5.23秒
  最短耗时: 5.23秒
  最长耗时: 5.23秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.46秒
  平均耗时: 0.46秒
  最短耗时: 0.46秒
  最长耗时: 0.46秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:51:32] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:51:32] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144696.863261  515974 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144696.886070  515974 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144702.700293  516179 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144702.717909  516179 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original.mp4
INFO:golf_club_detector:总帧数: 66
INFO:golf_club_detector:处理进度: 10/66 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/66 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/66 帧，检测到球杆: 30 次
INFO:golf_club_detector:处理进度: 40/66 帧，检测到球杆: 40 次
INFO:golf_club_detector:处理进度: 50/66 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 60/66 帧，检测到球杆: 60 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 66
INFO:golf_club_detector:  检测成功: 66 次
INFO:golf_club_detector:  检测率: 100.0%
INFO:golf_club_detector:  输出形状: (66, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:51:49] "POST /process_video HTTP/1.1" 200 -
  总耗时: 4.27秒
  平均耗时: 4.27秒
  最短耗时: 4.27秒
  最长耗时: 4.27秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 18.51秒
  平均耗时: 18.51秒
  最短耗时: 18.51秒
  最长耗时: 18.51秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.2024955451488495
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 202667 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 205193 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 205467 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 205267 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_34/f0034_0_line_1.jpg
文件大小: 162830 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 169279 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_42/f0042_0_line_0.jpg
文件大小: 173363 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_48/f0048_0_circle_0.jpg
文件大小: 186826 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_48/f0048_1_line_0.jpg
文件大小: 203520 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_55/f0055_0_triangle_0.jpg
文件大小: 170537 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_126/f0126_0_line_0.jpg
文件大小: 207811 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_126/f0126_1_crossed_0.jpg
文件大小: 202086 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_126/f0126_2_line_0.jpg
文件大小: 181649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/frame_127/f0127_0_line_0.jpg
文件大小: 205969 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis/0661f7d4-0da7-4b1d-9144-796c7bd44ede_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/0661f7d4-0da7-4b1d-9144-796c7bd44ede/vis
[INFO] 提取挥杆阶段: 第47帧到第112帧
[INFO] 已调整阶段索引，减去起始帧 47
[INFO] 需要提取的视频帧数: 66
[INFO] 正在保存视频帧到 ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/all，帧范围：47-112，共 66 帧
[INFO] 开始从图片创建视频: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.00132164412529 -pattern_type glob -i ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4 -> ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original_h264.mp4 -c:v h264 ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([66, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([66, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/stage_indices.json
[INFO] CSV => ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.00132164412529 fps，序列长度: 5，处理帧数: 66
[INFO] 帧 48: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6388
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 66
[INFO] 已加载阶段索引数据: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 66，最大帧号: 65
[INFO] 已创建站姿线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/stand
[INFO] 已创建高度线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/k
[INFO] 已创建躯干线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/body
[INFO] 已创建骨架线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.52秒
[INFO] 辅助线透明图片生成完成: 66帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 4.48秒
  平均耗时: 4.48秒
  最短耗时: 4.48秒
  最长耗时: 4.48秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.21秒
  平均耗时: 0.21秒
  最短耗时: 0.21秒
  最长耗时: 0.21秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.70秒
  平均耗时: 2.70秒
  最短耗时: 2.70秒
  最长耗时: 2.70秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 12.07秒
  平均耗时: 12.07秒
  最短耗时: 12.07秒
  最长耗时: 12.07秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.19476701319217682
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_21/setup_position_fails.jpg
文件大小: 149534 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 180961 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_31/f0031_0_horizontal_1.jpg
文件大小: 180281 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_31/f0031_1_straight_0.jpg
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:51:49] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144794.227628  518209 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144794.259839  518209 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144800.147347  518523 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144800.171278  518528 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144801.491799  518545 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144801.530640  518545 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
W0000 00:00:1752144808.245560  518797 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144808.296507  518797 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144809.096006  518825 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144809.250361  518825 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original.mp4
INFO:golf_club_detector:总帧数: 63
文件大小: 180643 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_31/f0031_2_stability_1.jpg
文件大小: 180600 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_32/f0032_0_line_1.jpg
文件大小: 139239 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_32/f0032_1_lines_0.jpg
文件大小: 145412 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_42/f0042_0_line_1.jpg
文件大小: 147278 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_48/f0048_0_circle_1.jpg
文件大小: 153706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_48/f0048_1_line_0.jpg
文件大小: 168872 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_51/f0051_0_triangle_0.jpg
文件大小: 156852 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_55/f0055_0_line_0.jpg
文件大小: 167800 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_55/f0055_1_crossed_0.jpg
文件大小: 161063 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_55/f0055_2_line_1.jpg
文件大小: 143891 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/frame_65/f0065_0_line_0.jpg
文件大小: 173144 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis/65ec51e0-f123-420f-ad88-1ac9f92fd92f_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/65ec51e0-f123-420f-ad88-1ac9f92fd92f/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4 -> ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original_h264.mp4 -c:v h264 ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/stage_indices.json
[INFO] CSV => ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/img/hip_rotation
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4 -> ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original_h264.mp4 -c:v h264 ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original.mp4
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功转换为H264格式: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4.temp.mp4
[INFO] 所有辅助线生成完成，总耗时: 6.15秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.79秒
  平均耗时: 2.79秒
  最短耗时: 2.79秒
  最长耗时: 2.79秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:32] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:33] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
W0000 00:00:1752144815.670690  519024 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144815.699598  519024 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
W0000 00:00:1752144822.696691  519320 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144822.760682  519320 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:44] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 4.89秒
  平均耗时: 4.89秒
  最短耗时: 4.89秒
  最长耗时: 4.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis/f210d164-62fc-4dc5-bdb9-6ba95b286eba_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f210d164-62fc-4dc5-bdb9-6ba95b286eba/vis
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4 -> ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original_h264.mp4 -c:v h264 ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/stage_indices.json
[INFO] CSV => ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/stand
[INFO] 已创建高度线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/k
[INFO] 已创建躯干线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/body
[INFO] 已创建骨架线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.31秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 1.30秒
  平均耗时: 1.30秒
  最短耗时: 1.30秒
  最长耗时: 1.30秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:44] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
W0000 00:00:1752144831.653628  519557 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144831.716715  519562 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:52] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:53:52] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis/2b47f838-ce61-4789-bff8-3ae9ae95bf44_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2b47f838-ce61-4789-bff8-3ae9ae95bf44/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/stage_indices.json
[INFO] CSV => ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/all，帧范围：0-62，共 63 帧
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/stand
[INFO] 已创建高度线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/k
[INFO] 已创建躯干线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/body
[INFO] 已创建骨架线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始从图片创建视频: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4 -> ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original_h264.mp4 -c:v h264 ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 所有辅助线生成完成，总耗时: 6.37秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 1.30秒
  平均耗时: 1.30秒
  最短耗时: 1.30秒
  最长耗时: 1.30秒
  标准差: 0.00秒

extract_keypoints:
  执行次数: 1
  总耗时: 2.41秒
  平均耗时: 2.41秒
  最短耗时: 2.41秒
  最长耗时: 2.41秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.04秒
  平均耗时: 0.04秒
  最短耗时: 0.04秒
  最长耗时: 0.04秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.39秒
  平均耗时: 0.39秒
  最短耗时: 0.39秒
  最长耗时: 0.39秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.56秒
  平均耗时: 6.56秒
  最短耗时: 6.56秒
  最长耗时: 6.56秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis/af6862b3-ac51-4fb1-8e94-dac24f9e36d5_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/af6862b3-ac51-4fb1-8e94-dac24f9e36d5/vis
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:54:02] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:54:02] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144885.773001  520840 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144885.802553  520840 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144889.501623  521042 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144889.525695  521051 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/stage_indices.json
[INFO] CSV => ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/stand
[INFO] 已创建高度线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/k
[INFO] 已创建躯干线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/body
[INFO] 已创建骨架线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.17秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 1.30秒
  平均耗时: 1.30秒
  最短耗时: 1.30秒
  最长耗时: 1.30秒
  标准差: 0.00秒

extract_keypoints:
  执行次数: 1
  总耗时: 2.41秒
  平均耗时: 2.41秒
  最短耗时: 2.41秒
  最长耗时: 2.41秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.04秒
  平均耗时: 0.04秒
  最短耗时: 0.04秒
  最长耗时: 0.04秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 2
  总耗时: 0.63秒
  平均耗时: 0.32秒
  最短耗时: 0.24秒
  最长耗时: 0.39秒
  标准差: 0.07秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 11.92秒
  平均耗时: 5.96秒
  最短耗时: 5.36秒
  最长耗时: 6.56秒
  标准差: 0.60秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis/d5b805de-2b0c-40ef-9350-4eacbeaebb20_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/d5b805de-2b0c-40ef-9350-4eacbeaebb20/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4 -> ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original_h264.mp4 -c:v h264 ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/stage_indices.json
[INFO] CSV => ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:54:57] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:54:57] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144902.801415  521587 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144902.826979  521587 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144909.381053  521784 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144909.418667  521784 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/stand
[INFO] 已创建高度线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/k
[INFO] 已创建躯干线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/body
[INFO] 已创建骨架线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/645fff30-a507-4011-ae13-c17cf5572a33/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.58秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.56秒
  平均耗时: 1.56秒
  最短耗时: 1.56秒
  最长耗时: 1.56秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.24秒
  平均耗时: 0.24秒
  最短耗时: 0.24秒
  最长耗时: 0.24秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.80秒
  平均耗时: 2.80秒
  最短耗时: 2.80秒
  最长耗时: 2.80秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 11.26秒
  平均耗时: 11.26秒
  最短耗时: 11.26秒
  最长耗时: 11.26秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis/645fff30-a507-4011-ae13-c17cf5572a33_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/645fff30-a507-4011-ae13-c17cf5572a33/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4 -> ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original_h264.mp4 -c:v h264 ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/stage_indices.json
[INFO] CSV => ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/shoulder_rotation
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:55:21] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:55:21] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144940.661842  522284 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144940.689223  522284 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144947.928399  522536 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144947.962551  522536 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.49秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.88秒
  平均耗时: 1.88秒
  最短耗时: 1.88秒
  最长耗时: 1.88秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.28秒
  平均耗时: 0.28秒
  最短耗时: 0.28秒
  最长耗时: 0.28秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.71秒
  平均耗时: 5.71秒
  最短耗时: 5.71秒
  最长耗时: 5.71秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 18.14秒
  平均耗时: 18.14秒
  最短耗时: 18.14秒
  最长耗时: 18.14秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/f3c00990-3fcf-42f5-b731-0526d7bfca27_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4 -> ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4 -c:v h264 ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/68e204db-5fde-4273-baee-50f337f74854/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/68e204db-5fde-4273-baee-50f337f74854/stage_indices.json
[INFO] CSV => ./resultData/68e204db-5fde-4273-baee-50f337f74854/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/68e204db-5fde-4273-baee-50f337f74854/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/68e204db-5fde-4273-baee-50f337f74854/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/stand
[INFO] 已创建高度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/k
[INFO] 已创建躯干线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/body
[INFO] 已创建骨架线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 设置肩膀旋转角度参考宽度: 21.0像素
[INFO] 生成肩膀旋转角度线帧 1/63[INFO] 确定旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 完成shoulder_rotation辅助线透明图片生成 => ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/shoulder_rotation, 共 63 帧
[INFO] 性能统计: 总耗时 4.36秒, 处理耗时 0.36秒, 保存耗时 4.01秒
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.49秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.88秒
  平均耗时: 1.88秒
  最短耗时: 1.88秒
  最长耗时: 1.88秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.28秒
  平均耗时: 0.28秒
  最短耗时: 0.28秒
  最长耗时: 0.28秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.71秒
  平均耗时: 5.71秒
  最短耗时: 5.71秒
  最长耗时: 5.71秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 18.14秒
  平均耗时: 18.14秒
  最短耗时: 18.14秒
  最长耗时: 18.14秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis/f3c00990-3fcf-42f5-b731-0526d7bfca27_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f3c00990-3fcf-42f5-b731-0526d7bfca27/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4 -> ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original_h264.mp4 -c:v h264 ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/68e204db-5fde-4273-baee-50f337f74854/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/68e204db-5fde-4273-baee-50f337f74854/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/68e204db-5fde-4273-baee-50f337f74854/stage_indices.json
[INFO] CSV => ./resultData/68e204db-5fde-4273-baee-50f337f74854/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/68e204db-5fde-4273-baee-50f337f74854/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/68e204db-5fde-4273-baee-50f337f74854/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/stand
[INFO] 已创建高度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/k
[INFO] 已创建躯干线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/body
[INFO] 已创建骨架线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/68e204db-5fde-4273-baee-50f337f74854/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 6.01秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.17秒
  平均耗时: 2.17秒
  最短耗时: 2.17秒
  最长耗时: 2.17秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.29秒
  平均耗时: 0.29秒
  最短耗时: 0.29秒
  最长耗时: 0.29秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.25秒
  平均耗时: 0.25秒
  最短耗时: 0.25秒
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:55:59] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:00] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144965.971641  523121 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144966.006897  523121 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144971.821297  523550 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144971.850966  523550 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
W0000 00:00:1752144975.721635  523586 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144975.769868  523586 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
  最长耗时: 0.25秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.27秒
  平均耗时: 6.27秒
  最短耗时: 6.27秒
  最长耗时: 6.27秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 19.10秒
  平均耗时: 19.10秒
  最短耗时: 19.10秒
  最长耗时: 19.10秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis/68e204db-5fde-4273-baee-50f337f74854_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/68e204db-5fde-4273-baee-50f337f74854/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4 -> ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original_h264.mp4 -c:v h264 ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/stage_indices.json
[INFO] CSV => ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/stand
[INFO] 已创建高度线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/k
[INFO] 已创建躯干线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/body
[INFO] 已创建骨架线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4 -> ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original_h264.mp4 -c:v h264 ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 所有辅助线生成完成，总耗时: 5.99秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

error_detection:
  执行次数: 1
  总耗时: 0.32秒
  平均耗时: 0.32秒
  最短耗时: 0.32秒
  最长耗时: 0.32秒
  标准差: 0.00秒

extract_keypoints:
  执行次数: 1
  总耗时: 2.51秒
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:22] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:23] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752144983.399748  523822 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144983.432713  523822 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144983.964537  523847 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144983.998336  523847 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
W0000 00:00:1752144990.033134  524062 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144990.056898  524062 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144990.121173  524080 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144990.158833  524080 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成body辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成height辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[DEBUG] 面部高度: 52.0, 偏移量: 119.6
[DEBUG] 最高点y值: 718, 计算的头顶位置y值: 598
[DEBUG] 最终头顶线位置: Y=598, X=713
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 设置肩膀旋转角度参考宽度: 21.0像素
[INFO] 生成肩膀旋转角度线帧 1/63[INFO] 确定旋转方向: 减少
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 设置髋部旋转角度参考宽度: 4.0像素
[INFO] 生成髋部旋转角度线帧 1/63[INFO] 确定旋转方向: 减少
W0000 00:00:1752144999.165023  524437 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752144999.285800  524437 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成skeleton辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 生成骨架线帧 1/63
[INFO] 完成skeleton辅助线透明图片生成 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton, 共 63 帧
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成stance辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
W0000 00:00:1752145001.013720  524461 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145001.064684  524469 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
  平均耗时: 2.51秒
  最短耗时: 2.51秒
  最长耗时: 2.51秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.23秒
  平均耗时: 6.23秒
  最短耗时: 6.23秒
  最长耗时: 6.23秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.89秒
  平均耗时: 6.89秒
  最短耗时: 6.89秒
  最长耗时: 6.89秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis/2f57a9c5-99e2-4715-a09d-09fe9899a3d0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/2f57a9c5-99e2-4715-a09d-09fe9899a3d0/vis
[INFO] 成功转换为H264格式: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all，帧范围：0-62，共 63 帧
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -> ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original_h264.mp4 -c:v h264 ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 正在保存视频帧到 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] CSV => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成fishbone辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 生成鱼骨线帧 1/63
[INFO] 完成fishbone辅助线透明图片生成 => ./resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/img/fishbone, 共 63 帧
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:41] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:42] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:50] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
[INFO] 开始将视频转换为H264格式: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4 -> ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original_h264.mp4 -c:v h264 ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 所有辅助线生成完成，总耗时: 6.72秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 0.60秒
  平均耗时: 0.60秒
  最短耗时: 0.60秒
  最长耗时: 0.60秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis/f6ca1811-74d4-4867-803d-3ddb0669a417_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f6ca1811-74d4-4867-803d-3ddb0669a417/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/stage_indices.json
[INFO] CSV => ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/stand
[INFO] 已创建高度线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/k
[INFO] 已创建躯干线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/body
[INFO] 已创建骨架线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/all，帧范围：123-251，共 129 帧
[INFO] 所有辅助线生成完成，总耗时: 6.00秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 0.60秒
  平均耗时: 0.60秒
  最短耗时: 0.60秒
  最长耗时: 0.60秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.45秒
  平均耗时: 0.45秒
  最短耗时: 0.45秒
  最长耗时: 0.45秒
  标准差: 0.00秒

extract_keypoints:
  执行次数: 1
  总耗时: 8.55秒
  平均耗时: 8.55秒
  最短耗时: 8.55秒
  最长耗时: 8.55秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 6.20秒
  平均耗时: 6.20秒
  最短耗时: 6.20秒
  最长耗时: 6.20秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:50] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
W0000 00:00:1752145013.003140  524995 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145013.032677  525005 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:56:59] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
[INFO] 开始从图片创建视频: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4.temp.mp4
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis/3f5afe4a-b1a8-4c88-b05e-20be718e013d_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/3f5afe4a-b1a8-4c88-b05e-20be718e013d/vis
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4 -> ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original_h264.mp4 -c:v h264 ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/stage_indices.json
[INFO] 成功转换为H264格式: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] CSV => ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b940d27d-4156-4530-adc8-49913b22e6ed/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 所有辅助线生成完成，总耗时: 5.78秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

total:
  执行次数: 1
  总耗时: 0.60秒
  平均耗时: 0.60秒
  最短耗时: 0.60秒
  最长耗时: 0.60秒
  标准差: 0.00秒

error_detection:
  执行次数: 2
  总耗时: 0.85秒
  平均耗时: 0.42秒
  最短耗时: 0.39秒
  最长耗时: 0.45秒
  标准差: 0.03秒

extract_keypoints:
  执行次数: 1
  总耗时: 8.55秒
  平均耗时: 8.55秒
  最短耗时: 8.55秒
  最长耗时: 8.55秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 12.17秒
  平均耗时: 6.09秒
  最短耗时: 5.97秒
  最长耗时: 6.20秒
  标准差: 0.11秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_47/f0047_2_line_1.jpg
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:00] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
W0000 00:00:1752145025.813106  525112 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145025.898831  525112 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:11] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:12] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752145033.785913  525611 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145033.817297  525611 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original.mp4
INFO:golf_club_detector:总帧数: 63
W0000 00:00:1752145036.039926  525647 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145036.094461  525647 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis/b940d27d-4156-4530-adc8-49913b22e6ed_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b940d27d-4156-4530-adc8-49913b22e6ed/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/stage_indices.json
[INFO] CSV => ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f606054c-9605-49ee-a576-e32092dd16e0/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4.temp.mp4
[INFO] 所有辅助线生成完成，总耗时: 6.23秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.28秒
  平均耗时: 2.28秒
  最短耗时: 2.28秒
  最长耗时: 2.28秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.04秒
  平均耗时: 0.04秒
  最短耗时: 0.04秒
  最长耗时: 0.04秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 6.05秒
  平均耗时: 6.05秒
  最短耗时: 6.05秒
  最长耗时: 6.05秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4 -> ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original_h264.mp4 -c:v h264 ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original.mp4
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis/f606054c-9605-49ee-a576-e32092dd16e0_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f606054c-9605-49ee-a576-e32092dd16e0/vis
[INFO] 成功转换为H264格式: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/all，帧范围：0-62，共 63 帧
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
W0000 00:00:1752145043.479973  525857 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145043.525958  525857 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:29] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:30] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 开始从图片创建视频: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4 -> ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original_h264.mp4 -c:v h264 ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/stage_indices.json
[INFO] CSV => ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 成功转换为H264格式: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/stand
[INFO] 已创建高度线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/k
[INFO] 已创建躯干线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/body
[INFO] 已创建骨架线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 所有辅助线生成完成，总耗时: 5.61秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.23秒
  平均耗时: 2.23秒
  最短耗时: 2.23秒
  最长耗时: 2.23秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.05秒
  平均耗时: 0.05秒
  最短耗时: 0.05秒
  最长耗时: 0.05秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.67秒
  平均耗时: 0.67秒
  最短耗时: 0.67秒
  最长耗时: 0.67秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.87秒
  平均耗时: 5.87秒
  最短耗时: 5.87秒
  最长耗时: 5.87秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 13.61秒
  平均耗时: 13.61秒
  最短耗时: 13.61秒
  最长耗时: 13.61秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis/55d0e1d9-c102-47a9-bf68-0b7b5683b505_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/55d0e1d9-c102-47a9-bf68-0b7b5683b505/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/stage_indices.json
[INFO] CSV => ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 63
[INFO] 帧 45: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5947
[INFO] 错误检测完成，共检测到 1 个有效错误，总检测帧数 1 => ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/stage_indices.json
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:38] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 18:57:39] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752145640.595715  532072 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145640.619078  532072 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145647.188192  532217 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145647.217751  532217 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145648.140631  532294 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145648.176963  532298 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
W0000 00:00:1752145655.560589  532503 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145655.592171  532503 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145655.936165  532528 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145655.971331  532538 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/stand
[INFO] 已创建高度线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.70秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.23秒
  平均耗时: 2.23秒
  最短耗时: 2.23秒
  最长耗时: 2.23秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.05秒
  平均耗时: 0.05秒
  最短耗时: 0.05秒
  最长耗时: 0.05秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 2
  总耗时: 1.12秒
  平均耗时: 0.56秒
  最短耗时: 0.45秒
  最长耗时: 0.67秒
  标准差: 0.11秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 11.81秒
  平均耗时: 5.90秒
  最短耗时: 5.87秒
  最长耗时: 5.93秒
  标准差: 0.03秒

total:
  执行次数: 1
  总耗时: 13.61秒
  平均耗时: 13.61秒
  最短耗时: 13.61秒
  最长耗时: 13.61秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06786298751831055
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_0/setup_position_fails.jpg
文件大小: 766333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 851989 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 853343 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 853475 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 853550 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_26/f0026_0_line_1.jpg
文件大小: 815508 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 817197 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_37/f0037_0_line_0.jpg
文件大小: 817588 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 831549 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_41/f0041_1_line_0.jpg
文件大小: 842333 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 823237 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_47/f0047_0_line_0.jpg
文件大小: 831168 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 827027 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_47/f0047_2_line_1.jpg
文件大小: 811445 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/frame_62/f0062_0_line_0.jpg
文件大小: 842606 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis/af87c008-ac7c-48b1-82b5-b2c49933aa9a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/af87c008-ac7c-48b1-82b5-b2c49933aa9a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4 -> ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original_h264.mp4 -c:v h264 ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4 -> ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original_h264.mp4 -c:v h264 ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/stage_indices.json
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:07:42] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:07:42] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
W0000 00:00:1752145665.417311  532776 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145665.448698  532779 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
W0000 00:00:1752145666.565760  532802 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145666.593395  532810 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original.mp4
INFO:golf_club_detector:总帧数: 129
[INFO] CSV => ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/stand
[INFO] 已创建高度线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/k
[INFO] 已创建躯干线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/body
[INFO] 已创建骨架线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 所有辅助线生成完成，总耗时: 4.89秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

error_detection:
  执行次数: 1
  总耗时: 0.63秒
  平均耗时: 0.63秒
  最短耗时: 0.63秒
  最长耗时: 0.63秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.06秒
  平均耗时: 5.06秒
  最短耗时: 5.06秒
  最长耗时: 5.06秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 7.01秒
  平均耗时: 7.01秒
  最短耗时: 7.01秒
  最长耗时: 7.01秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/03e35cf4-4cb3-457f-8ba9-cb3661d99ec1/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4 -> ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original_h264.mp4 -c:v h264 ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/stage_indices.json
[INFO] CSV => ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
W0000 00:00:1752145672.442445  532879 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145672.552591  532879 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:07:54] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:07:55] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
W0000 00:00:1752145676.518847  533080 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145676.543638  533080 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/stand
[INFO] 已创建高度线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/k
[INFO] 已创建躯干线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/body
[INFO] 已创建骨架线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4.temp.mp4
[INFO] 所有辅助线生成完成，总耗时: 5.42秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.37秒
  平均耗时: 1.37秒
  最短耗时: 1.37秒
  最长耗时: 1.37秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 2.50秒
  平均耗时: 2.50秒
  最短耗时: 2.50秒
  最长耗时: 2.50秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis/c6e4f212-f5d2-4932-bce1-86d0f04b3fde_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/c6e4f212-f5d2-4932-bce1-86d0f04b3fde/vis
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4 -> ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original_h264.mp4 -c:v h264 ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/all，帧范围：123-251，共 129 帧
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 开始从图片创建视频: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4.temp.mp4
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/stage_indices.json
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4 -> ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original_h264.mp4 -c:v h264 ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original.mp4
[INFO] CSV => ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/csv/allData.csv
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
W0000 00:00:1752145681.832847  533315 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145681.862875  533315 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:07] "POST /process_video HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:07] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 成功转换为H264格式: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/stand
[INFO] 已创建高度线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/k
[INFO] 已创建躯干线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/body
[INFO] 已创建骨架线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/3dd47ee5-d686-4756-a313-c52f30643247/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 所有辅助线生成完成，总耗时: 5.24秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.37秒
  平均耗时: 1.37秒
  最短耗时: 1.37秒
  最长耗时: 1.37秒
  标准差: 0.00秒

stage_classification:
  执行次数: 2
  总耗时: 0.11秒
  平均耗时: 0.05秒
  最短耗时: 0.05秒
  最长耗时: 0.06秒
  标准差: 0.01秒

setup_directories:
  执行次数: 2
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 2.50秒
  平均耗时: 2.50秒
  最短耗时: 2.50秒
  最长耗时: 2.50秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 1.12秒
  平均耗时: 1.12秒
  最短耗时: 1.12秒
  最长耗时: 1.12秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.42秒
  平均耗时: 5.42秒
  最短耗时: 5.42秒
  最长耗时: 5.42秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis/3dd47ee5-d686-4756-a313-c52f30643247_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/3dd47ee5-d686-4756-a313-c52f30643247/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/stage_indices.json
[INFO] CSV => ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/stand
[INFO] 已创建高度线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/k
[INFO] 已创建躯干线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/body
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:18] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:18] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:20] "POST /process_video HTTP/1.1" 200 -
[INFO] 已创建骨架线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/stage_indices.json
[INFO] CSV => ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b479a022-06c0-42e7-a98d-949cefafb72a/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 5.65秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.37秒
  平均耗时: 1.37秒
  最短耗时: 1.37秒
  最长耗时: 1.37秒
  标准差: 0.00秒

stage_classification:
  执行次数: 2
  总耗时: 0.11秒
  平均耗时: 0.05秒
  最短耗时: 0.05秒
  最长耗时: 0.06秒
  标准差: 0.01秒

setup_directories:
  执行次数: 2
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 2.50秒
  平均耗时: 2.50秒
  最短耗时: 2.50秒
  最长耗时: 2.50秒
  标准差: 0.00秒

error_detection:
  执行次数: 3
  总耗时: 2.63秒
  平均耗时: 0.88秒
  最短耗时: 0.69秒
  最长耗时: 1.12秒
  标准差: 0.18秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 8.14秒
  平均耗时: 4.07秒
  最短耗时: 2.72秒
  最长耗时: 5.42秒
  标准差: 1.35秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis/900fa67f-0412-419e-ad9a-2298ccde1de1_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/900fa67f-0412-419e-ad9a-2298ccde1de1/vis
[INFO] 所有辅助线生成完成，总耗时: 4.81秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.37秒
  平均耗时: 1.37秒
  最短耗时: 1.37秒
  最长耗时: 1.37秒
  标准差: 0.00秒

stage_classification:
  执行次数: 2
  总耗时: 0.11秒
  平均耗时: 0.05秒
  最短耗时: 0.05秒
  最长耗时: 0.06秒
  标准差: 0.01秒

setup_directories:
  执行次数: 2
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 2.50秒
  平均耗时: 2.50秒
  最短耗时: 2.50秒
  最长耗时: 2.50秒
  标准差: 0.00秒

error_detection:
  执行次数: 3
  总耗时: 2.63秒
  平均耗时: 0.88秒
  最短耗时: 0.69秒
  最长耗时: 1.12秒
  标准差: 0.18秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 8.14秒
  平均耗时: 4.07秒
  最短耗时: 2.72秒
  最长耗时: 5.42秒
  标准差: 1.35秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:20] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752145700.809095  533454 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145700.832965  533455 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145707.488707  533598 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145707.522764  533600 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145708.484769  533674 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145708.512189  533683 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
W0000 00:00:1752145716.338628  533889 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752145716.376069  533893 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成body辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成height辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[DEBUG] 面部高度: 22.0, 偏移量: 50.6
[DEBUG] 最高点y值: 353, 计算的头顶位置y值: 302
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置髋部旋转角度参考宽度: 82.0像素
[INFO] 生成髋部旋转角度线帧 1/129已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 设置肩膀旋转角度参考宽度: 143.0像素
[INFO] 生成肩膀旋转角度线帧 1/129INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
INFO:golf_club_detector:总帧数: 129
INFO:golf_club_detector:处理进度: 10/129 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 20/129 帧，检测到球杆: 20 次
INFO:golf_club_detector:处理进度: 30/129 帧，检测到球杆: 26 次
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成fishbone辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 生成鱼骨线帧 1/129[INFO] 生成鱼骨线帧 101/129
INFO:golf_club_detector:处理进度: 40/129 帧，检测到球杆: 33 次
INFO:golf_club_detector:处理进度: 50/129 帧，检测到球杆: 42 次
INFO:golf_club_detector:处理进度: 60/129 帧，检测到球杆: 44 次
INFO:golf_club_detector:处理进度: 70/129 帧，检测到球杆: 50 次
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成stance辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已生成 100/129 帧透明辅助线图片
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成skeleton辅助线...
[INFO] 使用传入的视频尺寸: 720x1280
[INFO] 生成骨架线帧 1/129[INFO] 生成骨架线帧 101/129
INFO:golf_club_detector:处理进度: 80/129 帧，检测到球杆: 60 次
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis/b479a022-06c0-42e7-a98d-949cefafb72a_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/b479a022-06c0-42e7-a98d-949cefafb72a/vis
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -> ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original_h264.mp4 -c:v h264 ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 提取挥杆阶段: 第123帧到第251帧
[INFO] 已调整阶段索引，减去起始帧 123
[INFO] 需要提取的视频帧数: 129
[INFO] 正在保存视频帧到 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all，帧范围：123-251，共 129 帧
[INFO] 开始从图片创建视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.0 -pattern_type glob -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -> ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original_h264.mp4 -c:v h264 ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] CSV => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 成功提取关键点数据，形状: torch.Size([129, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 所有辅助线生成完成，总耗时: 5.69秒
[INFO] 辅助线透明图片生成完成: 129帧
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:43] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:44] "POST /check_swing_conditions HTTP/1.1" 200 -
INFO:golf_club_detector:处理进度: 90/129 帧，检测到球杆: 70 次
INFO:golf_club_detector:处理进度: 100/129 帧，检测到球杆: 80 次
INFO:golf_club_detector:处理进度: 110/129 帧，检测到球杆: 90 次
INFO:golf_club_detector:处理进度: 120/129 帧，检测到球杆: 100 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 129
INFO:golf_club_detector:  检测成功: 109 次
INFO:golf_club_detector:  检测率: 84.5%
INFO:golf_club_detector:  输出形状: (129, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:51] "POST /process_video HTTP/1.1" 200 -

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 6.31秒
  平均耗时: 6.31秒
  最短耗时: 6.31秒
  最长耗时: 6.31秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.55秒
  平均耗时: 0.55秒
  最短耗时: 0.55秒
  最长耗时: 0.55秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 5.87秒
  平均耗时: 5.87秒
  最短耗时: 5.87秒
  最长耗时: 5.87秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 16.41秒
  平均耗时: 16.41秒
  最短耗时: 16.41秒
  最长耗时: 16.41秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis/f21e080d-341c-4244-90ba-dc0a02c0bcc7_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f21e080d-341c-4244-90ba-dc0a02c0bcc7/vis
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([129, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/stage_indices.json
[INFO] CSV => ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.0 fps，序列长度: 5，处理帧数: 129
[INFO] 帧 36: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5092
[INFO] 帧 37: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.7959
[INFO] 帧 52: 检测到错误: 下杆提前释放，手打球，没有靠身体旋转带动, 置信度: 0.5367
[INFO] 帧 77: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5615
[INFO] 帧 109: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5082
[INFO] 帧 110: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6402
[INFO] 帧 111: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.7051
[INFO] 帧 121: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5217
[INFO] 错误检测完成，共检测到 8 个有效错误，总检测帧数 8 => ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 129
[INFO] 已加载阶段索引数据: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 129，最大帧号: 128
[INFO] 已创建站姿线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/stand
[INFO] 已创建高度线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/k
[INFO] 已创建躯干线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/body
[INFO] 已创建骨架线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/11ac1a27-7c51-408c-950c-124ed4d94698/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 4.79秒
[INFO] 辅助线透明图片生成完成: 129帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 6.31秒
  平均耗时: 6.31秒
  最短耗时: 6.31秒
  最长耗时: 6.31秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.06秒
  平均耗时: 0.06秒
  最短耗时: 0.06秒
  最长耗时: 0.06秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 2
  总耗时: 1.02秒
  平均耗时: 0.51秒
  最短耗时: 0.47秒
  最长耗时: 0.55秒
  标准差: 0.04秒

generate_assistant_lines:
  执行次数: 2
  总耗时: 10.84秒
  平均耗时: 5.42秒
  最短耗时: 4.97秒
  最长耗时: 5.87秒
  标准差: 0.45秒

total:
  执行次数: 1
  总耗时: 16.41秒
  平均耗时: 16.41秒
  最短耗时: 16.41秒
  最长耗时: 16.41秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.20197932422161102
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_30/f0030_0_consistent_1.jpg
文件大小: 210649 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_32/f0032_0_horizontal_1.jpg
文件大小: 207873 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_32/f0032_1_straight_0.jpg
文件大小: 208078 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_32/f0032_2_stability_1.jpg
文件大小: 207940 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_34/f0034_0_line_1.jpg
文件大小: 170022 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_34/f0034_1_lines_0.jpg
文件大小: 175932 字节
INFO:werkzeug:127.0.0.1 - - [10/Jul/2025 19:08:51] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752880081.537110  804438 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880081.560927  804438 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880084.669316  804634 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880084.696389  804638 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:08:10] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_43/f0043_0_line_0.jpg
文件大小: 179145 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_49/f0049_0_circle_0.jpg
文件大小: 192352 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_49/f0049_1_line_0.jpg
文件大小: 209706 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_56/f0056_0_triangle_0.jpg
文件大小: 185773 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_127/f0127_0_line_0.jpg
文件大小: 216177 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_127/f0127_1_crossed_0.jpg
文件大小: 209266 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_127/f0127_2_line_0.jpg
文件大小: 190360 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/frame_128/f0128_0_line_0.jpg
文件大小: 215090 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis/11ac1a27-7c51-408c-950c-124ed4d94698_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/11ac1a27-7c51-408c-950c-124ed4d94698/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4 -> ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original_h264.mp4 -c:v h264 ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/stage_indices.json
[INFO] CSV => ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/stand
[INFO] 已创建高度线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/k
[INFO] 已创建躯干线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/body
[INFO] 已创建骨架线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.18秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.37秒
  平均耗时: 1.37秒
  最短耗时: 1.37秒
  最长耗时: 1.37秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.36秒
  平均耗时: 2.36秒
  最短耗时: 2.36秒
  最长耗时: 2.36秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.80秒
  平均耗时: 8.80秒
  最短耗时: 8.80秒
  最长耗时: 8.80秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_47/f0047_1_crossed_0.jpg
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:08:10] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752880190.743949  804825 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880190.769294  804825 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880193.907978  805023 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752880193.930255  805023 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:09:59] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:09:59] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752881054.586095  805572 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752881054.607531  805572 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis/f2f88406-d247-4a8f-b91d-87da5a13cc42_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/f2f88406-d247-4a8f-b91d-87da5a13cc42/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4 -> ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original_h264.mp4 -c:v h264 ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/stage_indices.json
[INFO] CSV => ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/stand
[INFO] 已创建高度线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/k
[INFO] 已创建躯干线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/body
[INFO] 已创建骨架线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.18秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.41秒
  平均耗时: 1.41秒
  最短耗时: 1.41秒
  最长耗时: 1.41秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.18秒
  平均耗时: 0.18秒
  最短耗时: 0.18秒
  最长耗时: 0.18秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.36秒
  平均耗时: 2.36秒
  最短耗时: 2.36秒
  最长耗时: 2.36秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 8.93秒
  平均耗时: 8.93秒
  最短耗时: 8.93秒
  最长耗时: 8.93秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis/0d3ca501-9c25-4f02-ba57-6d229e3b1b77_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/0d3ca501-9c25-4f02-ba57-6d229e3b1b77/vis
[INFO] 提取挥杆阶段: 第-9帧到第62帧
[INFO] 需要提取的视频帧数: 63
[INFO] 正在保存视频帧到 ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/all，帧范围：0-62，共 63 帧
[INFO] 开始从图片创建视频: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4
W0000 00:00:1752881057.722961  805768 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752881057.743640  805767 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original.mp4
INFO:golf_club_detector:总帧数: 63
INFO:golf_club_detector:处理进度: 10/63 帧，检测到球杆: 2 次
INFO:golf_club_detector:处理进度: 20/63 帧，检测到球杆: 6 次
INFO:golf_club_detector:处理进度: 30/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 40/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 50/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:处理进度: 60/63 帧，检测到球杆: 10 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 63
INFO:golf_club_detector:  检测成功: 10 次
INFO:golf_club_detector:  检测率: 15.9%
INFO:golf_club_detector:  输出形状: (63, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:24:23] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:24:24] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752881316.812005  805985 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752881316.836117  805991 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 30.004546143355054 -pattern_type glob -i ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4 -> ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original_h264.mp4 -c:v h264 ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([63, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([63, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/stage_indices.json
[INFO] CSV => ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 30.004546143355054 fps，序列长度: 5，处理帧数: 63
[INFO] 错误检测完成，共检测到 0 个有效错误，总检测帧数 0 => ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 63
[INFO] 已加载阶段索引数据: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 63，最大帧号: 62
[INFO] 已创建站姿线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/stand
[INFO] 已创建高度线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/k
[INFO] 已创建躯干线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/body
[INFO] 已创建骨架线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/img/hip_rotation
[INFO] 视频尺寸: 720x1280
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 2.27秒
[INFO] 辅助线透明图片生成完成: 63帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 1.38秒
  平均耗时: 1.38秒
  最短耗时: 1.38秒
  最长耗时: 1.38秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.23秒
  平均耗时: 0.23秒
  最短耗时: 0.23秒
  最长耗时: 0.23秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 2.44秒
  平均耗时: 2.44秒
  最短耗时: 2.44秒
  最长耗时: 2.44秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 9.13秒
  平均耗时: 9.13秒
  最短耗时: 9.13秒
  最长耗时: 9.13秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.06809569895267487
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_0/setup_position_fails.jpg
文件大小: 314437 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_21/f0021_0_consistent_1.jpg
文件大小: 370447 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_23/f0023_0_horizontal_1.jpg
文件大小: 368791 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_23/f0023_1_straight_0.jpg
文件大小: 368966 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_23/f0023_2_stability_0.jpg
文件大小: 368912 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_26/f0026_0_line_1.jpg
文件大小: 348081 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_26/f0026_1_lines_0.jpg
文件大小: 350013 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_38/f0038_0_line_0.jpg
文件大小: 355714 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_41/f0041_0_circle_1.jpg
文件大小: 361869 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_41/f0041_1_line_0.jpg
文件大小: 369641 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_44/f0044_0_triangle_0.jpg
文件大小: 365861 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_47/f0047_0_line_0.jpg
文件大小: 372157 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_47/f0047_1_crossed_0.jpg
文件大小: 371807 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_47/f0047_2_line_1.jpg
文件大小: 357156 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/frame_62/f0062_0_line_0.jpg
文件大小: 381160 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis/925258c2-2be8-4e50-946e-0a8b7deafa37_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/925258c2-2be8-4e50-946e-0a8b7deafa37/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4 -> ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original_h264.mp4 -c:v h264 ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original.mp4
W0000 00:00:1752881325.037322  806179 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752881325.058679  806179 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original.mp4
INFO:golf_club_detector:总帧数: 127
INFO:golf_club_detector:处理进度: 10/127 帧，检测到球杆: 0 次
INFO:golf_club_detector:处理进度: 20/127 帧，检测到球杆: 7 次
INFO:golf_club_detector:处理进度: 30/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 40/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 50/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 60/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 70/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 80/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 90/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 100/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 110/127 帧，检测到球杆: 16 次
INFO:golf_club_detector:处理进度: 120/127 帧，检测到球杆: 18 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 127
INFO:golf_club_detector:  检测成功: 25 次
INFO:golf_club_detector:  检测率: 19.7%
INFO:golf_club_detector:  输出形状: (127, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:29:00] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:29:00] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752882063.977871  807677 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882064.009444  807683 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
[INFO] 成功转换为H264格式: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/stage_indices.json
[INFO] CSV => ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/stand
[INFO] 已创建高度线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/k
[INFO] 已创建躯干线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/body
[INFO] 已创建骨架线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 7.90秒
[INFO] 辅助线透明图片生成完成: 127帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.54秒
  平均耗时: 2.54秒
  最短耗时: 2.54秒
  最长耗时: 2.54秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.36秒
  平均耗时: 0.36秒
  最短耗时: 0.36秒
  最长耗时: 0.36秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 8.05秒
  平均耗时: 8.05秒
  最短耗时: 8.05秒
  最长耗时: 8.05秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 23.26秒
  平均耗时: 23.26秒
  最短耗时: 23.26秒
  最长耗时: 23.26秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.11360848695039749
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_32/setup_position_fails.jpg
文件大小: 1060173 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_46/f0046_0_consistent_1.jpg
文件大小: 1101981 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_49/f0049_0_horizontal_1.jpg
文件大小: 1085830 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis/4b02bbba-2922-48d7-bb41-fb0785329ae1_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/4b02bbba-2922-48d7-bb41-fb0785329ae1/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
W0000 00:00:1752882072.543773  807876 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882072.570214  807880 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original.mp4
INFO:golf_club_detector:总帧数: 127
INFO:golf_club_detector:处理进度: 10/127 帧，检测到球杆: 0 次
INFO:golf_club_detector:处理进度: 20/127 帧，检测到球杆: 7 次
INFO:golf_club_detector:处理进度: 30/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 40/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 50/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 60/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 70/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 80/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 90/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 100/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 110/127 帧，检测到球杆: 16 次
INFO:golf_club_detector:处理进度: 120/127 帧，检测到球杆: 18 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 127
INFO:golf_club_detector:  检测成功: 25 次
INFO:golf_club_detector:  检测率: 19.7%
INFO:golf_club_detector:  输出形状: (127, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:41:28] "POST /process_video HTTP/1.1" 200 -
[INFO] 正在保存视频帧到 ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4 -> ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original_h264.mp4 -c:v h264 ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/stage_indices.json
[INFO] CSV => ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/stand
[INFO] 已创建高度线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/k
[INFO] 已创建躯干线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/body
[INFO] 已创建骨架线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 8.59秒
[INFO] 辅助线透明图片生成完成: 127帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.78秒
  平均耗时: 2.78秒
  最短耗时: 2.78秒
  最长耗时: 2.78秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.36秒
  平均耗时: 0.36秒
  最短耗时: 0.36秒
  最长耗时: 0.36秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 8.77秒
  平均耗时: 8.77秒
  最短耗时: 8.77秒
  最长耗时: 8.77秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 24.85秒
  平均耗时: 24.85秒
  最短耗时: 24.85秒
  最长耗时: 24.85秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.11360848695039749
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_32/setup_position_fails.jpg
文件大小: 1060173 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_46/f0046_0_consistent_1.jpg
文件大小: 1101981 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_49/f0049_0_horizontal_1.jpg
文件大小: 1085830 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:41:29] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752882883.870376  809675 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882883.902711  809682 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882892.232627  809872 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882892.253328  809872 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original.mp4
INFO:golf_club_detector:总帧数: 127
INFO:golf_club_detector:处理进度: 10/127 帧，检测到球杆: 0 次
INFO:golf_club_detector:处理进度: 20/127 帧，检测到球杆: 7 次
INFO:golf_club_detector:处理进度: 30/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 40/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 50/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 60/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 70/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 80/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 90/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 100/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 110/127 帧，检测到球杆: 16 次
INFO:golf_club_detector:处理进度: 120/127 帧，检测到球杆: 18 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 127
INFO:golf_club_detector:  检测成功: 25 次
INFO:golf_club_detector:  检测率: 19.7%
INFO:golf_club_detector:  输出形状: (127, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:55:07] "POST /process_video HTTP/1.1" 200 -
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis/49f1ca56-8976-4c9c-9950-93b1d8440800_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/49f1ca56-8976-4c9c-9950-93b1d8440800/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4 -> ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original_h264.mp4 -c:v h264 ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/stage_indices.json
[INFO] CSV => ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/stand
[INFO] 已创建高度线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/k
[INFO] 已创建躯干线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/body
[INFO] 已创建骨架线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 8.25秒
[INFO] 辅助线透明图片生成完成: 127帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.59秒
  平均耗时: 2.59秒
  最短耗时: 2.59秒
  最长耗时: 2.59秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.02秒
  平均耗时: 0.02秒
  最短耗时: 0.02秒
  最长耗时: 0.02秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
  总耗时: 0.00秒
  平均耗时: 0.00秒
  最短耗时: 0.00秒
  最长耗时: 0.00秒
  标准差: 0.00秒

error_detection:
  执行次数: 1
  总耗时: 0.37秒
  平均耗时: 0.37秒
  最短耗时: 0.37秒
  最长耗时: 0.37秒
  标准差: 0.00秒

generate_assistant_lines:
  执行次数: 1
  总耗时: 8.43秒
  平均耗时: 8.43秒
  最短耗时: 8.43秒
  最长耗时: 8.43秒
  标准差: 0.00秒

total:
  执行次数: 1
  总耗时: 23.97秒
  平均耗时: 23.97秒
  最短耗时: 23.97秒
  最长耗时: 23.97秒
  标准差: 0.00秒
计算得到的参考尺度为: 0.11360848695039749
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_32/setup_position_fails.jpg
文件大小: 1060173 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_46/f0046_0_consistent_1.jpg
文件大小: 1101981 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_0_horizontal_1.jpg
文件大小: 1085830 字节
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:55:08] "POST /check_swing_conditions HTTP/1.1" 200 -
W0000 00:00:1752882999.742854  810003 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752882999.765522  810003 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752883008.286616  810214 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1752883008.310042  810223 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:golf_club_detector:开始添加球杆检测信息到关键点数据
INFO:golf_club_detector:成功加载YOLO模型: yolo_dataset_full/runs/detect/golf_club_yolo/weights/best.pt
INFO:golf_club_detector:开始检测视频中的球杆: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
INFO:golf_club_detector:总帧数: 127
INFO:golf_club_detector:处理进度: 10/127 帧，检测到球杆: 0 次
INFO:golf_club_detector:处理进度: 20/127 帧，检测到球杆: 7 次
INFO:golf_club_detector:处理进度: 30/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 40/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 50/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 60/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 70/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 80/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 90/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 100/127 帧，检测到球杆: 14 次
INFO:golf_club_detector:处理进度: 110/127 帧，检测到球杆: 16 次
INFO:golf_club_detector:处理进度: 120/127 帧，检测到球杆: 18 次
INFO:golf_club_detector:球杆检测完成!
INFO:golf_club_detector:  处理帧数: 127
INFO:golf_club_detector:  检测成功: 25 次
INFO:golf_club_detector:  检测率: 19.7%
INFO:golf_club_detector:  输出形状: (127, 2, 3)
ERROR:golf_club_detector:添加球杆检测信息时出错: all the input array dimensions except for the concatenation axis must match exactly, but along dimension 2, the array at index 0 has size 2 and the array at index 1 has size 3
WARNING:golf_club_detector:返回原始关键点数据以确保系统正常运行
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成height辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[DEBUG] 面部高度: 27.0, 偏移量: 62.1
[DEBUG] 最高点y值: 636, 计算的头顶位置y值: 573
[DEBUG] 最终头顶线位置: Y=573, X=549
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已生成 100/127 帧透明辅助线图片
[INFO] 完成height辅助线透明图片生成 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k, 共 127 帧
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成body辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[DEBUG] body assistant: left_shoulder=(np.int32(613), np.int32(675)), right_shoulder=(np.int32(500), np.int32(719)), left_ankle=(np.int32(661), np.int32(1162)), right_ankle=(np.int32(451), np.int32(1162))
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已生成 100/127 帧透明辅助线图片
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成shoulder_rotation辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 设置肩膀旋转角度参考宽度: 113.0像素
[INFO] 生成肩膀旋转角度线帧 1/127[INFO] 确定旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 检测到极值点，改变旋转方向: 减少
[INFO] 检测到极值点，改变旋转方向: 增加
[INFO] 生成肩膀旋转角度线帧 101/127已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成stance辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 已为第 0 帧计算辅助线信息，所有帧将使用相同的辅助线
[INFO] 已生成 100/127 帧透明辅助线图片
[INFO] 完成stance辅助线透明图片生成 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand, 共 127 帧
[INFO] 性能统计: 总耗时 7.79秒, 处理耗时 0.29秒, 保存耗时 7.50秒
[INFO] 每帧平均: 处理 2.27毫秒, 保存 59.07毫秒
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 开始生成hip_rotation辅助线...
[INFO] 使用传入的视频尺寸: 1080x1920
[INFO] 设置髋部旋转角度参考宽度: 73.0像素
[INFO] 生成髋部旋转角度线帧 1/127[INFO] 确定旋转方向: 增加
[INFO] 生成髋部旋转角度线帧 101/127[INFO] 已生成 100/127 帧透明辅助线图片
[INFO] 完成hip_rotation辅助线透明图片生成 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation, 共 127 帧
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_1_straight_0.jpg
文件大小: 1086135 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_49/f0049_2_stability_1.jpg
文件大小: 1086104 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_0_line_1.jpg
文件大小: 1059490 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_53/f0053_1_lines_0.jpg
文件大小: 1062417 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_80/f0080_0_line_0.jpg
文件大小: 1074258 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_0_circle_0.jpg
文件大小: 1081851 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_95/f0095_1_line_0.jpg
文件大小: 1097996 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_100/f0100_0_triangle_0.jpg
文件大小: 1069837 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_0_line_0.jpg
文件大小: 1073496 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_1_crossed_0.jpg
文件大小: 1070453 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_108/f0108_2_line_1.jpg
文件大小: 1049753 字节
已成功保存可视化图像到: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/frame_126/f0126_0_line_0.jpg
文件大小: 1061010 字节
成功生成挥杆检查CSV格式报告: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis/7002c4ba-2894-47ea-b1b7-b5857d8f6933_report.csv
可视化图像保存在: /pypack/AIGolf/resultData/7002c4ba-2894-47ea-b1b7-b5857d8f6933/vis
[INFO] 提取挥杆阶段: 第-13帧到第126帧
[INFO] 需要提取的视频帧数: 127
[INFO] 正在保存视频帧到 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all，帧范围：0-126，共 127 帧
[INFO] 开始从图片创建视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 尝试ffmpeg编码方式 1/4: ffmpeg -y -framerate 59.96505972897682 -pattern_type glob -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/all/frame*.jpg -c:v libx264 -pix_fmt yuv420p -crf 23 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4.temp.mp4
[INFO] 成功使用ffmpeg方式 1 创建视频
[INFO] 视频合成完成: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 成功从图片合成视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4
[INFO] 开始将视频转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -> ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 尝试转换方法 1/5: ffmpeg -y -i ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original_h264.mp4 -c:v h264 ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功转换为H264格式: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 成功创建H264编码视频: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/video/original.mp4
[INFO] 从剪裁后的视频重新提取关键点数据
[INFO] 成功提取关键点数据，形状: torch.Size([127, 33, 2])
[INFO] 开始添加球杆检测信息...
[INFO] 成功添加球杆检测信息，增强后形状: torch.Size([127, 33, 2])
[INFO] 使用增强错误检测模型进行分析，提取动态特征...
[INFO] 保存关键点数据到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/keypoints.pt
[INFO] 保存阶段索引到: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] CSV => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/allData.csv
[INFO] 开始错误检测，模型类型: enhanced
[INFO] 模型LSTM输入维度: 310
[INFO] 使用帧率: 59.96505972897682 fps，序列长度: 5，处理帧数: 127
[INFO] 帧 31: 检测到错误: 准备双手绷的太紧, 置信度: 0.6867
[INFO] 帧 62: 检测到错误: 上杆胸椎没有旋转，身体起身, 置信度: 0.5591
[INFO] 帧 64: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6739
[INFO] 帧 66: 检测到错误: 上杆起身，挥杆中心往右边侧移，上杆靠手拉上去，肩膀没有主动旋转, 置信度: 0.6004
[INFO] 帧 67: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6856
[INFO] 帧 68: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6967
[INFO] 帧 72: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.5349
[INFO] 帧 73: 检测到错误: 上杆右髋没有旋转，而是往上顶，重心逆转，身体起身, 置信度: 0.6026
[INFO] 帧 82: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8078
[INFO] 帧 83: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.7951
[INFO] 帧 84: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8786
[INFO] 帧 85: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5425
[INFO] 帧 91: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5146
[INFO] 帧 92: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5193
[INFO] 帧 93: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.6699
[INFO] 帧 94: 检测到错误: 下杆双手提前释放, 置信度: 0.5507
[INFO] 帧 95: 检测到错误: 下杆侧移，手发力较多, 置信度: 0.5445
[INFO] 帧 96: 检测到错误: 下杆身体没有转动，靠手拉下去，提前释放, 置信度: 0.8375
[INFO] 帧 104: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.6535
[INFO] 帧 118: 检测到错误: 送杆左手鸡翅膀, 置信度: 0.5530
[INFO] 错误检测完成，共检测到 20 个有效错误，总检测帧数 22 => ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/csv/errorData.csv
[INFO] 开始生成辅助线透明PNG图片...
[INFO] 平台: Linux, 启用并行: True, 工作进程数: 11
[INFO] 加载关键点数据耗时: 0.00秒，关键点数量: 127
[INFO] 已加载阶段索引数据: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/stage_indices.json
[INFO] 检测到实际处理的视频帧数: 127，最大帧号: 126
[INFO] 已创建站姿线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/stand
[INFO] 已创建高度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/k
[INFO] 已创建躯干线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/body
[INFO] 已创建骨架线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/skeleton
[INFO] 已创建鱼骨线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/fishbone
[INFO] 已创建肩膀旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/shoulder_rotation
[INFO] 已创建髋部旋转角度线文件夹: ./resultData/b4737e7a-3305-446a-8c65-b58fd8e074f7/img/hip_rotation
[INFO] 视频尺寸: 1080x1920
[INFO] 使用11个进程并行生成辅助线
[INFO] 所有辅助线生成完成，总耗时: 8.56秒
[INFO] 辅助线透明图片生成完成: 127帧

=== 性能统计 ===

extract_keypoints:
  执行次数: 1
  总耗时: 2.74秒
  平均耗时: 2.74秒
  最短耗时: 2.74秒
  最长耗时: 2.74秒
  标准差: 0.00秒

stage_classification:
  执行次数: 1
  总耗时: 0.01秒
  平均耗时: 0.01秒
  最短耗时: 0.01秒
  最长耗时: 0.01秒
  标准差: 0.00秒

setup_directories:
  执行次数: 1
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:57:04] "POST /process_video HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [19/Jul/2025 07:57:05] "POST /check_swing_conditions HTTP/1.1" 200 -
